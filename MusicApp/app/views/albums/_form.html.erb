<% action_url = album.persisted? ? album_url(album) : albums_url %>
<% http_method = album.persisted? ? "PATCH" : "POST" %>

<form action="<%= action_url %>" method="post">
  <input type="hidden" name="_method" value="<%= http_method %>">
  <input
    type="hidden"
    name="authenticity_token"
    value="<%= form_authenticity_token %>">

  <br>
  <label for="album_name">Album Name
  <input type="text" name="album[name]" value="<%= album.name %>">
  </label>

  <br>
  <label for="band_name">Artist
    <select name="album[band_id]">
      <% Band.all.each do |band| %>
        <option
          <%= "selected" if album.band_id == band.id%>
          value="<%= band.id %>">
          <%= band.name %>
        </option>
      <% end %>
    </select>
  </label>

  <br>

  <label for="year">Year</label>
  <input type="number" name="album[year]" value="<%= album.year %>">

  <br>

  <label for="album_live_t">Live</label>
  <input
    type="radio"
    name="album[live]"
    value="t"
    id="album_live_t"
    <% "checked" if album.live %>>

  <label for="album_live_f">Studio</label>
  <input
    type="radio"
    name="album[live]"
    value="f"
    id="album_live_f"
    <% "checked" unless album.live %>>

  <input type="submit" value="Submit">
</form>
